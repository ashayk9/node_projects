<!DOCTYPE html>
<html>
   <head>
      <title>Hello world</title>
      <link rel="stylesheet" href="./index.css"></link>
   </head>
  
   <body>
       <div class="container">
            <h1>Chatting</h1>

            <div class="chat-messages">
                <!-- <div class="chat left">
                    <p>harr:hi</p>
                </div>
                <div class="chat right">
                    <p>raj:bye</p>
                </div> -->

            </div>
        </div>
        
            <form  id="chatform">
                <input id="msg" type="text">
                <input type="submit">
            </form>
       
        
        
        


        <script src = "/socket.io/socket.io.js"></script>
        <script src="./index.js"></script>
   
       
       
        <!-- <script>
             var socket = io();
             //var chatForm  = document.getElementById('chatform');
             socket.on('connect',()=>{
                 console.log('user connected ');
                 
                 //console.log(params);
             })
     
             socket.on('message', message => {
                 console.log(message);
                 outputMessage(message);
             });
             socket.on('default',messsage => {
                 console.log(messsage);
                 outputDefault(messsage);
             })
     
             var chatForm = document.querySelector('#chatform');
             
             chatForm.addEventListener('submit', e=>{
                 e.preventDefault();
                 const message = e.target.elements.msg.value;
                 //console.log(message);
                 socket.emit('chatmessage',message);
             });

             function outputMessage(message){
                 //console.log(message.text)
                 const div = document.createElement('div');

                 div.innerHTML = `<p>${message.user}   ${message.createdAt}</p>
                                <p>${message.text}</p>`;
                 //div.innerHTML = `<p>${message.user}</p>`;
                 
                 document.querySelector('.chat-messages').appendChild(div);

             }
             function outputDefault(message){
                 //console.log(message.text)
                 const div = document.createElement('div');
                 div.classList.add('default');

                 div.innerHTML = `<p>${message.user}   ${message.createdAt}</p>
                                <p>${message.text}</p>`;
                                
                 //div.innerHTML = `<p>${message.user}</p>`;
                 
                 document.querySelector('.chat-messages').appendChild(div);

             }
             

            
             
     
     
             // socket.on('message', (data) => {
             //     console.log(data.description);
             //     document.write(data.description);
             // });
             //socket.on('message', function(data){document.write(data)});
        </script> -->
        
   
    </body>
</html>